{"ast":null,"code":"import _slicedToArray from \"/home/fernando/Documentos/projetos/node/express/projeto-integrador/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/fernando/Documentos/projetos/node/express/projeto-integrador/client/src/components/receitas/Receitas.js\";\nimport React, { useState, useEffect } from 'react';\nimport './Receitas.css';\nimport Axios from 'axios'; // import { NavLink, Redirect } from 'react-router-dom'\n// Importa o withRouter do pacote react-router\n\nimport { withRouter } from 'react-router';\n\nvar Receitas = function Receitas(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      receitas = _useState2[0],\n      setReceitas = _useState2[1];\n\n  var gotoReceita = function gotoReceita(id) {\n    Axios.get('/api/receita/' + id).then(function (res) {\n      setReceitas(res.data); // tem um history com action, block, etc... // por causa do withRouter lá pra baixo\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  useEffect(function () {\n    console.log(props);\n    if (receitas.length === 0) return;\n    props.history.push({\n      pathname: \"/show-receita\",\n      state: {\n        receitas: receitas\n      },\n      from: props.location\n    });\n  }, [receitas]);\n  return React.createElement(\"div\", {\n    className: \"card m-2 ml-auto card-largo card-receita\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"/\",\n    alt: \"\",\n    className: \"card-img-top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"card-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, props.nome), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, props.ing.map(function (ing) {\n    return React.createElement(\"li\", {\n      key: ing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, ing);\n  })), React.createElement(\"button\", {\n    onClick: function onClick() {\n      return gotoReceita(props.id);\n    },\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Go!\")));\n};\n\nexport default withRouter(Receitas);","map":{"version":3,"sources":["/home/fernando/Documentos/projetos/node/express/projeto-integrador/client/src/components/receitas/Receitas.js"],"names":["React","useState","useEffect","Axios","withRouter","Receitas","props","receitas","setReceitas","gotoReceita","id","get","then","res","data","catch","err","console","log","length","history","push","pathname","state","from","location","nome","ing","map"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,gBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;AACA;;AACA,SAASC,UAAT,QAA2B,cAA3B;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK,EAAI;AAAA,kBACQL,QAAQ,CAAC,EAAD,CADhB;AAAA;AAAA,MACjBM,QADiB;AAAA,MACPC,WADO;;AAGxB,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAC,EAAE,EAAI;AACxBP,IAAAA,KAAK,CAACQ,GAAN,CAAU,kBAAkBD,EAA5B,EACGE,IADH,CACQ,UAAAC,GAAG,EAAI;AACXL,MAAAA,WAAW,CAACK,GAAG,CAACC,IAAL,CAAX,CADW,CACY;AACxB,KAHH,EAIGC,KAJH,CAIS,UAAAC,GAAG,EAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KANH;AAOD,GARD;;AAUAd,EAAAA,SAAS,CAAC,YAAM;AACde,IAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAZ;AACA,QAAIC,QAAQ,CAACY,MAAT,KAAoB,CAAxB,EAA2B;AAC3Bb,IAAAA,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmB;AACjBC,MAAAA,QAAQ,EAAE,eADO;AAEjBC,MAAAA,KAAK,EAAE;AAAEhB,QAAAA,QAAQ,EAARA;AAAF,OAFU;AAGjBiB,MAAAA,IAAI,EAAElB,KAAK,CAACmB;AAHK,KAAnB;AAKD,GARQ,EAQN,CAAClB,QAAD,CARM,CAAT;AAUA,SACE;AAAK,IAAA,SAAS,EAAC,0CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAC,GAAT;AAAa,IAAA,GAAG,EAAC,EAAjB;AAAoB,IAAA,SAAS,EAAC,cAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4BD,KAAK,CAACoB,IAAlC,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpB,KAAK,CAACqB,GAAN,CAAUC,GAAV,CAAc,UAAAD,GAAG;AAAA,WAAI;AAAI,MAAA,GAAG,EAAEA,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAeA,GAAf,CAAJ;AAAA,GAAjB,CADH,CAFF,EAKE;AAAQ,IAAA,OAAO,EAAE;AAAA,aAAMlB,WAAW,CAACH,KAAK,CAACI,EAAP,CAAjB;AAAA,KAAjB;AAA8C,IAAA,SAAS,EAAC,iBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WALF,CAFF,CADF;AAYD,CAnCD;;AAqCA,eAAeN,UAAU,CAACC,QAAD,CAAzB","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './Receitas.css'\nimport Axios from 'axios';\n// import { NavLink, Redirect } from 'react-router-dom'\n// Importa o withRouter do pacote react-router\nimport { withRouter } from 'react-router'\n\nconst Receitas = props => {\n  const [receitas, setReceitas] = useState([]);\n\n  const gotoReceita = id => {\n    Axios.get('/api/receita/' + id)\n      .then(res => {\n        setReceitas(res.data); // tem um history com action, block, etc... // por causa do withRouter lá pra baixo\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  useEffect(() => {\n    console.log(props);\n    if (receitas.length === 0) return;\n    props.history.push({\n      pathname: \"/show-receita\",\n      state: { receitas },\n      from: props.location\n    })\n  }, [receitas])\n\n  return (\n    <div className=\"card m-2 ml-auto card-largo card-receita\">\n      <img src=\"/\" alt=\"\" className=\"card-img-top\" />\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">{props.nome}</h5>\n        <ul>\n          {props.ing.map(ing => <li key={ing}>{ing}</li>)}\n        </ul>\n        <button onClick={() => gotoReceita(props.id)} className=\"btn btn-primary\">Go!</button>\n      </div>\n    </div>\n  )\n}\n\nexport default withRouter(Receitas)\n"]},"metadata":{},"sourceType":"module"}